<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css">
  <script>
    $(document).ready(function(){
      show_review()
    });
    function show_review(){
      let image = $('#image').val()
      let shop = $('#shop').val()
      let address = $('#address').val()
      let comment = $('#comment').val()

      $.ajax({
        type: 'POST',
        url: '/reviews',
        data: {image_give:image, shop_give:shop, address_give:address, comment_give:comment},
        success: function (response) {
          alert(response['msg'])
          window.location.reload()
        }
      })
    }
    function show_comment(){
            $.ajax({
                type: "GET",
                url: "/reviews",
                data: {},
                success: function (response) {
                  $('#reviews').empty()
                    let rows = response['writes']
                    for (let i=0;i<rows.length;i++){
                        let image = rows[i]['image']
                        let shop = rows[i]['shop']
                        let address = rows[i]['address']
                        let comment = rows[i]['comment']

                        let temp_html = `<div class="col">
                                          <div class="card">
                                            <img src="${image}" class="card-img-top" alt="...">
                                            <div class="card-body">
                                              <h5 class="card-title">${shop}</h5>
                                              <p class="card-text">${address}</p>
                                              <p class="card-text">${comment}</p>
                                            </div>
                                          </div>
                                        </div>`
                        $('#reviews').append(temp_html)
                    }
                }
            });
    }
  </script>
  <style>
    body{
      background-color: #3d3d3d;
    }
    .top-container{
      background-image: url("https://cdn.pixabay.com/photo/2018/03/12/13/35/table-3219660_960_720.jpg");
      background-size: cover;
      border-radius: 20px;
      padding: 20px;
      margin: 20px;
    }
    .member{
      float: right;
    }
    .title-box{
      text-align: center;
      margin: 0 auto;
      width: 20%;
    }
    .title{
      background-color: white ;
      background-color: rgba( 255, 255, 255, 0.5 );
      border-radius: 5px;
      padding: 10px;
      margin-bottom: 30px;
    }
    button{
      border: 0px solid darkgrey;
      border-radius: 30px;
      padding: 10px 20px;
      background-color: rgba(250, 235, 215, 0.5);
    }
    button:hover{
      background-color: rgba(255, 228, 196, 0.9);
      box-shadow: 0px 1px 10px gray;
    }
    .reviews{
      width: 90%;
      margin: 0 auto;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="top-container">
      <div class="member">
        <button onclick="location.href='/'">logout</button>
      </div>
      <br>
      <div class="title-box">
        <h1 class="title">나만의 맛집</h1>
        <button onclick="location.href='/add'">맛집 공유하기</button>
      </div>
    </div>
    <div class="row row-cols-1 row-cols-md-3 g-4 reviews">
      <div class="col">
        <div class="card">
          <img src="..." class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">가게이름</h5>
            <p class="card-text">주소</p>
            <p class="card-text">후기후기</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card">
          <img src="..." class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">가게이름</h5>
            <p class="card-text">주소</p>
            <p class="card-text">후기후기</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card">
          <img src="..." class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">가게이름</h5>
            <p class="card-text">주소</p>
            <p class="card-text">후기후기</p>
          </div>
        </div>
      </div>
      <div class="col">
        <div class="card">
          <img src="..." class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title">가게이름</h5>
            <p class="card-text">주소</p>
            <p class="card-text">후기후기</p>
          </div>
        </div>
      </div>
    </div>

  </div>
</body>
</html>
